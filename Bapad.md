# 记事本项目

## 子项目架构

两者合并了：
Bapad(win32各种程序结构，消息队列处理函数……
TextView(按行获取数据，windows特色的结构再封装，各种UI操作对应的业务操作

TextDocument为底层
由一些字符转换的方法、底层数据初始化、统一编码转换后数据获取
数据获取公共接口，封装在友类，文本迭代器里

## 底层

TextDocument
文件一次加载到内存
字符的编码转换，统一转换使用UTF-16LE的格式用于内部处理

行buffer初始化：

每行行的信息，记录字符数和字节数的偏移量

考虑换行符的各种形式：
'\r'
'\n'
"\r\n"

## 优化

TextDocument单测覆盖
行Buffer初始化：使用更巧妙的换算文本行长度的方法，不用按字节数分配长度
使用标准库的智能指针和vector
